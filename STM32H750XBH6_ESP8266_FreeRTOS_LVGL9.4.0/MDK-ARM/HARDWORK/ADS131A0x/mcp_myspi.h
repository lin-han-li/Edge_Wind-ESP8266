#ifndef __SPI_H
#define __SPI_H
#include "main.h"

/*
SCK     ->   PA5
DIN     ->   PA7(MOSI)
CS      ->   PA4
DOUT    ->   PA6(MISO)
RESET   ->   PA3
DRDY    ->   PA1
*/

#define ADS131A04_CS_H ADS131A04_CS_GPIO_Port->BSRR = ADS131A04_CS_Pin
#define ADS131A04_CS_L ADS131A04_CS_GPIO_Port->BSRR = ADS131A04_CS_Pin << 16

#define ADS131A04_SCLK_H ADS131A04_SCLK_GPIO_Port->BSRR = ADS131A04_SCLK_Pin
#define ADS131A04_SCLK_L ADS131A04_SCLK_GPIO_Port->BSRR = ADS131A04_SCLK_Pin << 16

#define ADS131A04_DIN_H ADS131A04_DIN_GPIO_Port->BSRR = ADS131A04_DIN_Pin
#define ADS131A04_DIN_L ADS131A04_DIN_GPIO_Port->BSRR = ADS131A04_DIN_Pin << 16

#define ADS131A04_REST_H ADS131A04_REST_GPIO_Port->BSRR = ADS131A04_REST_Pin
#define ADS131A04_REST_L ADS131A04_REST_GPIO_Port->BSRR = ADS131A04_REST_Pin << 16

#define READ_ADS131A04_DOUT ((ADS131A04_DOUT_GPIO_Port->IDR & ADS131A04_DOUT_Pin) || 0)

#define READ_ADS131A04_DRDY ((ADS131A04_DRDY_GPIO_Port->IDR & ADS131A04_DRDY_Pin) || 0)

#define READ_ADS131A04_DONE ((ADS131A04_DONE_GPIO_Port->IDR & ADS131A04_DONE_Pin) || 0)

void ADS131A0X_soft_spi(void);
uint8_t ADS131A0X_SendRecive_8Bit(uint8_t _data);
void ADS131A0X_DelaySCLK(void);
#endif

# EdgeWind 环境变量配置（已激活）
# 说明：
# - 本文件会被 app.py 在启动时自动加载（python-dotenv）
# - 如需指定其它配置文件，可设置环境变量：EDGEWIND_ENV_FILE
#
# 注意（生产环境）：
# - 请务必修改 SECRET_KEY
# - 请按需收紧 ALLOWED_ORIGINS（不要长期使用 *）

# ==================== 安全配置 ====================
SECRET_KEY=change-this-to-a-random-secret-key-in-production

# ==================== 数据库配置 ====================
# 推荐保持默认：instance/wind_farm.db（与项目保持一致）
DATABASE_URL=sqlite:///instance/wind_farm.db

# ==================== 服务器配置 ====================
HOST=0.0.0.0
PORT=5000

# ==================== 跨域配置 ====================
ALLOWED_ORIGINS=*

# ==================== 数据保留配置 ====================
DATA_RETENTION_DAYS=30

# ==================== 日志配置 ====================
LOG_LEVEL=INFO
LOG_FILE=logs/edgewind.log

# ==================== 性能/超时配置 ====================
SOCKET_PING_INTERVAL=10
SOCKET_PING_TIMEOUT=20
DB_TIMEOUT=20

# ==================== 系统版本号 ====================
EDGEWIND_VERSION=v1.4.0

# ==================== 安全：管理员/设备鉴权 ====================
# 首次初始化管理员密码（建议仅在首次启动前设置，之后可清空或改为更安全的运维方式）
# EDGEWIND_ADMIN_INIT_PASSWORD=
#
# 设备侧上报接口鉴权（/api/register /api/upload /api/node/heartbeat）
# - 留空：不启用鉴权（仅建议开发/演示环境）
# - 设置为非空：设备请求需携带请求头 X-EdgeWind-ApiKey，且值必须匹配
EDGEWIND_DEVICE_API_KEY=

# ==================== 实时推送性能配置（多节点建议开启）====================
# 多节点接入时推荐：降低“状态推送”频率、限制波形点数，避免前端/网络被刷爆。
# 你说“不用担心服务器负载，尽量开到高一点”，可以把 MONITOR_EMIT_HZ 提高到 30-50，
# 但多节点情况下仍建议 STATUS_EMIT_HZ 不要太高（3-10 比较合适）。

# 概览/列表状态推送频率（每节点 Hz）
EDGEWIND_STATUS_EMIT_HZ=5
# 监控页波形推送频率（每节点 Hz）
EDGEWIND_MONITOR_EMIT_HZ=20

# 波形/频谱降采样点数（0=不降采样，数据量会非常大）
EDGEWIND_WAVEFORM_POINTS=256
EDGEWIND_SPECTRUM_POINTS=128

# active_nodes 只保存轻量数据（推荐 true，多节点时明显省内存/省 CPU）
EDGEWIND_LIGHT_ACTIVE_NODES=true

# 旧接口 /api/upload 是否保存 DataPoint 明细（多节点高频时建议关闭）
EDGEWIND_STORE_UPLOAD_DATAPOINTS=false


